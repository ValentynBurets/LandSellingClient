{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Valentyn\\\\study\\\\graduate work\\\\LandSellingWebsite\\\\LandSellingWebsite\\\\ClientApp\\\\client_app\\\\src\\\\Components\\\\Header.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport { authenticationService } from './services/authentication.service';\nimport { useHistory } from 'react-router-dom';\nimport logo from './Logo.png';\nimport { Container, Navbar, Nav, Button, Modal, Form, Dropdown, DropdownButton } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar managerInfo = {\n  id: '1',\n  Name: 'Andrii',\n  Surname: 'Harashchak',\n  Email: 'manager@abc.abc',\n  Role: {\n    RoleId: '0',\n    Name: 'Manager'\n  }\n};\nvar customerInfo = {\n  id: '1',\n  Name: 'Andrii',\n  Surname: 'Harashchak',\n  Email: 'customer@abc.abc',\n  Role: {\n    RoleId: '1',\n    Name: 'Usual user'\n  }\n};\nexport default function NaviBar() {\n  _s();\n\n  const [person, setPerson] = useState(null);\n  const [show, setShow] = useState(false);\n  const [userId, setUserId] = useState(0);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  let history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  async function handleSignIn() {\n    //authenticationService.login(\"user@example.com\", \"string\");\n    await authenticationService.login(email, password);\n    var personData = localStorage.getItem(\"currentUser\");\n    var data = JSON.parse(personData);\n\n    if (personData !== null) {\n      setPerson(data);\n    }\n\n    setShow(false);\n  }\n\n  function handleSignOut() {\n    localStorage.clear();\n    setPerson(null);\n  }\n\n  function handleProfileClick() {\n    history.push({\n      pathname: '/user/' + person.id,\n      state: {\n        personId: person.id\n      }\n    });\n  }\n\n  useEffect(() => {\n    var personData = localStorage.getItem(\"currentUser\");\n    var data = JSON.parse(personData);\n\n    if (personData !== null) {\n      setPerson(data);\n    }\n  }, []);\n\n  const getDropdown = () => {\n    if (person !== null) {\n      return /*#__PURE__*/_jsxDEV(Nav, {\n        children: /*#__PURE__*/_jsxDEV(DropdownButton, {\n          id: \"dropdown-basic-button\",\n          title: person.name + ' ' + person.surname,\n          children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            variant: \"primary\",\n            id: \"dd-but-profile\",\n            onClick: handleProfileClick,\n            children: \"Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            variant: \"primary\",\n            id: \"dd-but-sign-out\",\n            onClick: handleSignOut,\n            children: \"Sign out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Nav, {\n        children: /*#__PURE__*/_jsxDEV(DropdownButton, {\n          id: \"dropdown-basic-button\",\n          title: \"Account\",\n          children: /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            variant: \"primary\",\n            id: \"dd-but-sign-in\",\n            onClick: handleShow,\n            children: \"Sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      collapseOnSelect: true,\n      expand: \"md\",\n      bg: \"dark\",\n      variant: \"dark\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n          href: \"/\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo,\n            height: \"40\",\n            width: \"auto\",\n            className: \"d-inline-block align-top\",\n            alt: \"Logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), \" Cars&Trips\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {\n          \"aria-controls\": \"responsive-navbar-nav\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n          id: \"responsive-navbar-nav\",\n          children: [/*#__PURE__*/_jsxDEV(Nav, {\n            className: \"mr-auto\",\n            children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n              href: \"/\",\n              children: \" Cars \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n              href: \"/about\",\n              children: \" About us \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n              href: \"/rules\",\n              children: \" Rules \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this), getDropdown()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"fromBasicEmail\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Email Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"email\",\n              placeholder: \"Enter email\",\n              value: email,\n              onChange: e => {\n                setEmail(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n              className: \"text-muted\",\n              children: \"We`ll never share your email with anyone else.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"fromBasicPassword\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              placeholder: \"Enter password\",\n              value: password,\n              onChange: e => {\n                setPassword(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"fromBasicCheckbox\",\n            children: /*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"checkbox\",\n              label: \"Remember me\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"fromSignInButton\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              onClick: handleSignIn,\n              children: \"Sign in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(NaviBar, \"e+Q8yxwn6AVuWPPGhEKNvIMHzgE=\", false, function () {\n  return [useHistory];\n});\n\n_c = NaviBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"NaviBar\");","map":{"version":3,"sources":["C:/Users/Valentyn/study/graduate work/LandSellingWebsite/LandSellingWebsite/ClientApp/client_app/src/Components/Header.js"],"names":["React","useState","useContext","useEffect","authenticationService","useHistory","logo","Container","Navbar","Nav","Button","Modal","Form","Dropdown","DropdownButton","managerInfo","id","Name","Surname","Email","Role","RoleId","customerInfo","NaviBar","person","setPerson","show","setShow","userId","setUserId","handleClose","handleShow","history","email","setEmail","password","setPassword","handleSignIn","login","personData","localStorage","getItem","data","JSON","parse","handleSignOut","clear","handleProfileClick","push","pathname","state","personId","getDropdown","name","surname","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\r\nimport { authenticationService } from './services/authentication.service'\r\nimport { useHistory } from 'react-router-dom'\r\nimport logo from './Logo.png'\r\nimport {\r\n  Container,\r\n  Navbar,\r\n  Nav,\r\n  Button,\r\n  Modal,\r\n  Form,\r\n  Dropdown,\r\n  DropdownButton,\r\n} from 'react-bootstrap'\r\n\r\nvar managerInfo = {\r\n  id: '1',\r\n  Name: 'Andrii',\r\n  Surname: 'Harashchak',\r\n  Email: 'manager@abc.abc',\r\n  Role: {\r\n    RoleId: '0',\r\n    Name: 'Manager',\r\n  },\r\n}\r\nvar customerInfo = {\r\n  id: '1',\r\n  Name: 'Andrii',\r\n  Surname: 'Harashchak',\r\n  Email: 'customer@abc.abc',\r\n  Role: {\r\n    RoleId: '1',\r\n    Name: 'Usual user',\r\n  },\r\n}\r\n\r\nexport default function NaviBar() {\r\n   \r\n    const [person, setPerson] = useState(null);\r\n    const [show, setShow] = useState(false);\r\n    const [userId, setUserId] = useState(0);\r\n    \r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    let history = useHistory();\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword]= useState(\"\");\r\n    async function handleSignIn() {\r\n       \r\n        //authenticationService.login(\"user@example.com\", \"string\");\r\n        await authenticationService.login(email, password);\r\n        var personData = localStorage.getItem(\"currentUser\");\r\n        var data = JSON.parse(personData);\r\n        if (personData !== null) {\r\n            setPerson(data);\r\n        }\r\n        setShow(false);\r\n    }\r\n\r\n  function handleSignOut() {\r\n    localStorage.clear()\r\n    setPerson(null)\r\n  }\r\n\r\n    function handleProfileClick(){\r\n        history.push({\r\n            pathname: '/user/' + person.id,\r\n            state: { personId: person.id}\r\n        });\r\n    }\r\n    useEffect(()=>{\r\n        var personData = localStorage.getItem(\"currentUser\");\r\n        var data = JSON.parse(personData);\r\n        if (personData !== null) {\r\n            setPerson(data);\r\n        }\r\n    }, []);\r\n    const getDropdown = ()=>{\r\n        if(person !== null){\r\n            return( \r\n                            <Nav>\r\n                                <DropdownButton id=\"dropdown-basic-button\" title={person.name + ' ' + person.surname}>\r\n                                {/* <Dropdown.Item variant=\"primary\" id=\"dd-but-sign-in\" onClick={handleShow}>Sign in</Dropdown.Item> */}\r\n                                <Dropdown.Item variant=\"primary\" id=\"dd-but-profile\" onClick = {handleProfileClick}>Profile</Dropdown.Item>\r\n                                <Dropdown.Item variant=\"primary\" id=\"dd-but-sign-out\" onClick={handleSignOut}>Sign out</Dropdown.Item>\r\n                            </DropdownButton>\r\n                        </Nav>)\r\n                    }else {\r\n                        return (\r\n                            <Nav>\r\n                            <DropdownButton id=\"dropdown-basic-button\" title=\"Account\">\r\n                                <Dropdown.Item variant=\"primary\" id=\"dd-but-sign-in\" onClick={handleShow}>Sign in</Dropdown.Item>\r\n                            </DropdownButton>\r\n                        </Nav>\r\n            )\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <Navbar collapseOnSelect expand=\"md\" bg=\"dark\" variant=\"dark\">\r\n                <Container>\r\n                    <Navbar.Brand href=\"/\">\r\n                        <img\r\n                            src = {logo}\r\n                            height=\"40\"\r\n                            width=\"auto\"\r\n                            className=\"d-inline-block align-top\"\r\n                            alt=\"Logo\"\r\n                        /> Cars&Trips\r\n                    </Navbar.Brand>\r\n                    <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n                    <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n                        <Nav className=\"mr-auto\">\r\n                            <Nav.Link href=\"/\"> Cars </Nav.Link>\r\n                            <Nav.Link href=\"/about\"> About us </Nav.Link>\r\n                            <Nav.Link href=\"/rules\"> Rules </Nav.Link>\r\n                        </Nav>\r\n                        {getDropdown()}\r\n                    </Navbar.Collapse>\r\n                </Container>\r\n            </Navbar>\r\n            <Modal show={show} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Log in</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form>\r\n                        <Form.Group controlId=\"fromBasicEmail\">\r\n                            <Form.Label>Email Address</Form.Label>\r\n                            <Form.Control type=\"email\" placeholder=\"Enter email\" value ={email} onChange={(e)=>{setEmail(e.target.value)}}/>\r\n                            <Form.Text className=\"text-muted\">We`ll never share your email with anyone else.</Form.Text>\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"fromBasicPassword\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" placeholder=\"Enter password\" value ={password} onChange={(e)=>{setPassword(e.target.value)}}/>\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"fromBasicCheckbox\">\r\n                            <Form.Check type=\"checkbox\" label=\"Remember me\" />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"fromSignInButton\">\r\n                            <Button variant=\"primary\" onClick={handleSignIn}>Sign in</Button>\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Modal.Body>\r\n            </Modal>\r\n        </>\r\n        );\r\n    }\r\n"]},"metadata":{},"sourceType":"module"}